"""00011 - Base

Revision ID: 100012
Revises: 100010
Create Date: 2020-09-08

"""

# revision identifiers, used by Alembic.
revision = '100012'
down_revision = '100011	'

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql


def upgrade():
	### commands auto generated by Alembic - please adjust! ###

	op.create_table('mp_provision_task',
					sa.Column('rid', sa.BigInteger(), nullable=False, autoincrement=True),
					sa.Column('tuuid', sa.String(length=50), nullable=False),
					sa.Column('name', sa.String(length=255), nullable=False),
					sa.Column('primary_suuid', sa.String(length=50), nullable=True),
					sa.Column('active', sa.Integer(), server_default='0', nullable=True),
					sa.Column('scope', sa.Integer(), server_default='0', nullable=True),
					sa.Column('sw_start_datetime', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.Column('sw_end_datetime', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.Column('mdate', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.Column('cdate', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.PrimaryKeyConstraint('rid')
					)
	op.create_index(op.f('ix_mp_provision_task_tuuid'), 'mp_provision_task', ['tuuid'], unique=False)
	op.create_index(op.f('ix_mp_provision_task_primary_suuid'), 'mp_provision_task', ['primary_suuid'], unique=False)

	op.create_table('mp_provision_script',
					sa.Column('rid', sa.BigInteger(), nullable=False, autoincrement=True),
					sa.Column('sid', sa.String(length=50), nullable=False),
					sa.Column('name', sa.String(length=255), nullable=False),
					sa.Column('script', mysql.TEXT(), nullable=False),
					sa.Column('active', sa.Integer(), server_default='0', nullable=True),
					sa.Column('scope', sa.Integer(), server_default='0', nullable=True),
					sa.Column('type', sa.Integer(), server_default='1', nullable=True),
					sa.Column('order', sa.Integer(), server_default='99', nullable=True),
					sa.Column('sw_start_datetime', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.Column('sw_end_datetime', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.Column('mdate', sa.DateTime(), server_default='1970-01-01 00:00:00', nullable=True),
					sa.PrimaryKeyConstraint('rid')
					)
	op.create_index(op.f('ix_mp_provision_task_sid'), 'mp_provision_script', ['sid'], unique=False)

	### end Alembic commands ###


def downgrade():
	### commands auto generated by Alembic - please adjust! ###
	op.drop_index(op.f('ix_mp_provision_task_sid'), table_name='mp_provision_script')
	op.drop_table('mp_provision_script')

	op.drop_index(op.f('ix_mp_provision_task_primary_suuid'), table_name='mp_provision_task')
	op.drop_index(op.f('ix_mp_provision_task_tuuid'), table_name='mp_provision_task')
	op.drop_table('mp_provision_task')

	### end Alembic commands ###